<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>デスペめも | Note</title>
    <meta name="description" content="デスペめも">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    
    <link rel="preload" href="/note/assets/css/0.styles.736745c0.css" as="style"><link rel="preload" href="/note/assets/js/app.96068af1.js" as="script"><link rel="preload" href="/note/assets/js/14.fab90671.js" as="script"><link rel="prefetch" href="/note/assets/js/10.b796bbe2.js"><link rel="prefetch" href="/note/assets/js/11.5e3ebc8c.js"><link rel="prefetch" href="/note/assets/js/12.e5411c30.js"><link rel="prefetch" href="/note/assets/js/13.78db03af.js"><link rel="prefetch" href="/note/assets/js/15.7de1e0a6.js"><link rel="prefetch" href="/note/assets/js/16.9cdf3c28.js"><link rel="prefetch" href="/note/assets/js/17.29f2b9bb.js"><link rel="prefetch" href="/note/assets/js/18.fa07e938.js"><link rel="prefetch" href="/note/assets/js/19.cd2b3f78.js"><link rel="prefetch" href="/note/assets/js/2.6f351ac2.js"><link rel="prefetch" href="/note/assets/js/20.d67090b2.js"><link rel="prefetch" href="/note/assets/js/21.32ddb33c.js"><link rel="prefetch" href="/note/assets/js/22.a31b13ac.js"><link rel="prefetch" href="/note/assets/js/23.a1c53e2f.js"><link rel="prefetch" href="/note/assets/js/24.3dcdea59.js"><link rel="prefetch" href="/note/assets/js/25.86bbd66f.js"><link rel="prefetch" href="/note/assets/js/26.4bf40cd8.js"><link rel="prefetch" href="/note/assets/js/27.e1d2e2cc.js"><link rel="prefetch" href="/note/assets/js/28.e0f1c459.js"><link rel="prefetch" href="/note/assets/js/29.168af085.js"><link rel="prefetch" href="/note/assets/js/3.4a11db42.js"><link rel="prefetch" href="/note/assets/js/30.bb7ae882.js"><link rel="prefetch" href="/note/assets/js/31.f291b446.js"><link rel="prefetch" href="/note/assets/js/32.25cbb9be.js"><link rel="prefetch" href="/note/assets/js/33.477c897b.js"><link rel="prefetch" href="/note/assets/js/34.5aa1b057.js"><link rel="prefetch" href="/note/assets/js/4.24453e99.js"><link rel="prefetch" href="/note/assets/js/5.ed119160.js"><link rel="prefetch" href="/note/assets/js/6.58c36d29.js"><link rel="prefetch" href="/note/assets/js/7.503bb84d.js"><link rel="prefetch" href="/note/assets/js/8.416fa8b4.js"><link rel="prefetch" href="/note/assets/js/9.f38b3d15.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.736745c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">Note</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/todo.html" class="nav-link">Todo</a></div><div class="nav-item"><a href="/note/chukapi_fun_art.html" class="nav-link">Chukapi-Fun-Art</a></div><div class="nav-item"><a href="/note/list.html" class="nav-link">Articles</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/todo.html" class="nav-link">Todo</a></div><div class="nav-item"><a href="/note/chukapi_fun_art.html" class="nav-link">Chukapi-Fun-Art</a></div><div class="nav-item"><a href="/note/list.html" class="nav-link">Articles</a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="デスペめも"><a href="#デスペめも" aria-hidden="true" class="header-anchor">#</a> デスペめも</h1> <h1 id="_03-18"><a href="#_03-18" aria-hidden="true" class="header-anchor">#</a> 03/18</h1> <h2 id="h30-午後1-1"><a href="#h30-午後1-1" aria-hidden="true" class="header-anchor">#</a> H30 午後1-1</h2> <h2 id="リレーションの矢印について"><a href="#リレーションの矢印について" aria-hidden="true" class="header-anchor">#</a> リレーションの矢印について</h2> <ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \rightarrow B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span><span class="mrel">→</span><span class="mord mathit" style="margin-right:0.05017em;">B</span></span></span></span>のとき, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>:</mo><mi>B</mi><mo>=</mo><mn>1</mn><mo>:</mo></mrow><annotation encoding="application/x-tex">A:B = 1:</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">A</span><span class="mrel">:</span><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mrel">:</span></span></span></span>多</li> <li>矢印の先が多</li> <li>記載がない場合は1:多</li></ul> <h2 id="サブタイプとスーパータイプ"><a href="#サブタイプとスーパータイプ" aria-hidden="true" class="header-anchor">#</a> サブタイプとスーパータイプ</h2> <ul><li>汎化した側のエンティティをスーパータイプという</li> <li>特化した側のエンティティをサブタイプという</li> <li>例えば, 料理というスーパータイプに対して, 和食セットや洋食セット, デザートコースといったサブタイプが存在する</li></ul> <h2 id="排他的サブタイプと共存的サブタイプ"><a href="#排他的サブタイプと共存的サブタイプ" aria-hidden="true" class="header-anchor">#</a> 排他的サブタイプと共存的サブタイプ</h2> <ul><li><p>サブタイプが共通部分を持つときには共存的サブタイプに分類され, 共通部分を持たないとき排他的サブタイプに分類される</p></li> <li><p>例えば, セット類とサービス対象類というスーパータイプが存在したとき, 和食セットがサービス対象ならばこれはキュゾン的サブタイプに分類される</p></li> <li><p>要するに, 複数のスーパータイプに属することができる場合, 共存的サブタイプに分類されるわけだ</p></li> <li><p>「〜で分類」や「どちらか一方にしか存在できない」, 「両方に属するものは損じ足ない」という文言がある場合は, 排他的サブタイプに分類される</p></li></ul> <h1 id="記述から読み取れるエンティティと属性"><a href="#記述から読み取れるエンティティと属性" aria-hidden="true" class="header-anchor">#</a> 記述から読み取れるエンティティと属性</h1> <ul><li>「〜で分類」<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.36687em;"></span><span class="strut bottom" style="height:0.36687em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mrel">→</span></span></span></span> サブタイプの切り口
<ul><li>AをBで分類
<ul><li>AにはBが必要</li> <li>エンティティAの属性としてBが挙げられる</li></ul></li></ul></li> <li>「〜で分類」(サブタイプ無しver.) <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.36687em;"></span><span class="strut bottom" style="height:0.36687em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mrel">→</span></span></span></span> ただの属性として持たせる
<ul><li>AをBで分類
<ul><li>エンティティAの属性としてBを持たせる</li></ul></li></ul></li> <li>「〜で登録する」<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.36687em;"></span><span class="strut bottom" style="height:0.36687em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mrel">→</span></span></span></span> 属性として持たせる
<ul><li>AにはBを登録する
<ul><li>エンティティAの属性としてBを持たせる</li></ul></li></ul></li></ul> <h1 id="キー"><a href="#キー" aria-hidden="true" class="header-anchor">#</a> キー</h1> <h2 id="スーパーキー-super-key"><a href="#スーパーキー-super-key" aria-hidden="true" class="header-anchor">#</a> スーパーキー(Super Key)</h2> <ul><li>タプルを一意に識別できるキーのこと</li> <li>候補キーに, 様々な組み合わせで他の属性を付け足したもの
<ul><li>冪集合のようなもの</li></ul></li></ul> <h2 id="候補キー-candidate-key"><a href="#候補キー-candidate-key" aria-hidden="true" class="header-anchor">#</a> 候補キー(Candidate Key)</h2> <ul><li>次の2つの制約を持つ
<ul><li>タプルを一意に識別できること</li> <li>スーパーキーの中で極小(それ以上分解できないもの)
<ul><li>極小とは, 余計な属性を含まないもの</li> <li>それ以上属性を減らすとタプルの識別ができなくなってしまうもの</li></ul></li></ul></li></ul> <h2 id="主キー-primary-key"><a href="#主キー-primary-key" aria-hidden="true" class="header-anchor">#</a> 主キー(Primary Key)</h2> <ul><li>次の2つの制約をもつ
<ul><li>一意性制約</li> <li>非ナル(NULLが認められない)</li></ul></li> <li>候補キーの中から元もふさわしいものが選ばれる</li></ul> <h2 id="代理キー-alternate-key"><a href="#代理キー-alternate-key" aria-hidden="true" class="header-anchor">#</a> 代理キー(Alternate Key)</h2> <ul><li>候補キーの中で主キーに選ばれなかったキー</li></ul> <h2 id="小まとめ"><a href="#小まとめ" aria-hidden="true" class="header-anchor">#</a> 小まとめ</h2> <ul><li>主キー <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∈</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.5391em;"></span><span class="strut bottom" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="base textstyle uncramped"><span class="mrel">∈</span></span></span></span> 候補キー <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⊂</mo></mrow><annotation encoding="application/x-tex">\subset</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="strut" style="height:0.5391em;"></span><span class="strut bottom" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="base textstyle uncramped"><span class="mrel">⊂</span></span></span></span> &lt; スーパーキー</li></ul> <h2 id="サロゲートキー-surrogate-key"><a href="#サロゲートキー-surrogate-key" aria-hidden="true" class="header-anchor">#</a> サロゲートキー(Surrogate Key)</h2> <ul><li>連番がよく使用される</li> <li>一意性を確保して主キーとして使用されるためだけに使用される</li> <li>次のような場合に使用される
<ul><li>主キーが複合キーの場合
<ul><li>主キーが複数の属性で構成されていると扱いづらい</li> <li>そのため, 主キーの代わりにサロゲートキーが用いられることがある</li></ul></li> <li>データウェアハウスで, 長期間の履歴を管理したい場合
<ul><li>主キーはstringになることがあるが, integerで管理した方が楽</li> <li>数字列なので一意性が損なわれづらい</li></ul></li></ul></li></ul> <h2 id="外部キー"><a href="#外部キー" aria-hidden="true" class="header-anchor">#</a> 外部キー</h2> <ul><li>他のリレーションの主キー(または候補キーでも良い)を参照する項目のこと</li> <li>エンティティA,Bについて, A-Bという1:1のリレーションがあるとする</li> <li>このとき, Aの主キーpを参照するBの外部キーqが存在するとする</li> <li>Aの主キーpには実線で下線が引かれる</li> <li>Bの外部キーqには破線で下線が引かれる</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/note/assets/js/app.96068af1.js" defer></script><script src="/note/assets/js/14.fab90671.js" defer></script>
  </body>
</html>
