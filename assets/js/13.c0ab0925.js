(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{216:function(e,t,s){"use strict";s.r(t);var i=s(0),n=Object(i.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),s("ul",[s("li",[e._v("大抵はつぎの公式ページに書かれています")]),e._v(" "),s("li",[e._v("公式がちゃんとしているので書くことはあまりないですが, 流れだけざっとさらっていきます")]),e._v(" "),s("li",[e._v("部分的に翻訳されているようです\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Welcome to CircleCI Documentation"),s("OutboundLink")],1)])])])]),e._v(" "),e._m(6),e._v(" "),s("ul",[s("li",[e._v("つぎの公式記事の通りに進めれば問題ないはずです\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/first-steps/#section=getting-started",target:"_blank",rel:"noopener noreferrer"}},[e._v("CircleCIを始める"),s("OutboundLink")],1)])])])]),e._v(" "),e._m(7),e._v(" "),s("ul",[s("li",[e._v("つぎの記事の通りに進めれば問題ないはずです\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://qiita.com/boushi-bird@github/items/6b6eb1d1ed6f6d3341e4",target:"_blank",rel:"noopener noreferrer"}},[e._v("Circle CI で Github に write access 可能な Deploy key を設定する"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/add-ssh-key/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CircleCI に SSH 鍵を登録する"),s("OutboundLink")],1)])])])]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),s("ul",[s("li",[s("p",[e._v("つぎの公式記事の通りに進めれば問題ないはずです")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/local-cli/#installation",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installation"),s("OutboundLink")],1)])])]),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13)]),e._v(" "),e._m(14),e._m(15),e._v(" "),s("ul",[s("li",[e._v("CircleCIの動作を定義するymlファイルを作成します")]),e._v(" "),s("li",[e._v("記法についてはつぎの記事の通りに書けば問題ないはずです\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://circleci.com/docs/2.0/configuration-reference/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configuring CircleCI"),s("OutboundLink")],1)])])])]),e._v(" "),e._m(16),e._v(" "),s("ul",[s("li",[e._v("雛形は, 先ほどの記事の下の方にあります\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://circleci.com/docs/2.0/configuration-reference/#full-example",target:"_blank",rel:"noopener noreferrer"}},[e._v("Full Example"),s("OutboundLink")],1)])])])]),e._v(" "),e._m(17),e._v(" "),s("ul",[s("li",[s("p",[e._v("つぎの公式記事の通りに進めれば問題ないはずです")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://circleci.com/docs/2.0/local-cli/#validate-a-circleci-config",target:"_blank",rel:"noopener noreferrer"}},[e._v("Validate A CircleCI Config"),s("OutboundLink")],1)])])]),e._v(" "),e._m(18)]),e._v(" "),e._m(19),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._m(25),e._v(" "),e._m(26)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"circleciを用いたvuepressの自動ビルド-デプロイ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleciを用いたvuepressの自動ビルド-デプロイ","aria-hidden":"true"}},[this._v("#")]),this._v(" CircleCIを用いたVuePressの自動ビルド+デプロイ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"はじめに"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#はじめに","aria-hidden":"true"}},[this._v("#")]),this._v(" はじめに")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("p",[this._v("VuePressは毎回buildする必要があるので面倒")])]),this._v(" "),t("li",[t("p",[this._v("誰かがCIを使って自動デプロイとか言ってたな")])]),this._v(" "),t("li",[t("p",[this._v("やってみるか")])]),this._v(" "),t("li",[t("p",[this._v("や　り　ま　し　た")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"circleciのセッティング"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleciのセッティング","aria-hidden":"true"}},[this._v("#")]),this._v(" CircleCIのセッティング")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("インストール等のセッティングを行います")]),this._v(" "),t("li",[this._v("本題を見たい方は, 本題まで飛んでください")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"初期設定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初期設定","aria-hidden":"true"}},[this._v("#")]),this._v(" 初期設定")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"_1-登録"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-登録","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 登録")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"_2-ssh-keyの設定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ssh-keyの設定","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.ssh-keyの設定")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"danger custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),t("ul",[t("li",[t("strong",[this._v("パスフレーズ付きのrsa鍵だとCircleCI側から認められないので注意してください")]),this._v(" "),t("ul",[t("li",[this._v("これに騙されました")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"_3-circleci-cliツールのインストール"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-circleci-cliツールのインストール","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.CircleCI CLIツールのインストール")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("p",[e._v("CircleCI CLIツールでは, つぎのようなことができます")]),e._v(" "),s("ul",[s("li",[e._v("CI config(.circleci/config.yml)のデバッグとvalidation")]),e._v(" "),s("li",[e._v("ローカルでのジョブ実行")]),e._v(" "),s("li",[e._v("CircleCIのAPI利用")]),e._v(" "),s("li",[e._v("CircleCI Orbs関連")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("インストールするコマンドだけ残しておきます")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("MacとLinuxでは次のコマンドでインストールできるようです")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("念の為アップデートまで含めたコマンドを書いておきます")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# install")]),e._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -fLSs https://circle.ci/cli "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# update")]),e._v("\n$ circleci update\n$ circleci switch\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"circleci-config-ymlファイルの作成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleci-config-ymlファイルの作成","aria-hidden":"true"}},[this._v("#")]),this._v(" .circleci/config.ymlファイルの作成")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"danger custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),t("ul",[t("li",[t("strong",[this._v("インデントでerrorになることが多いです")])]),this._v(" "),t("li",[this._v("注意しましょう\n"),t("ul",[t("li",[this._v("これで小一時間溶かしました")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"作成したファイルのvalidation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作成したファイルのvalidation","aria-hidden":"true"}},[this._v("#")]),this._v(" 作成したファイルのvalidation")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("次のコマンドでvalidationができます")]),this._v(" "),t("ul",[t("li",[this._v("ただし, config.ymlは"),t("code",[this._v(".circleci/config.yml")]),this._v("に配置しましょう")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("$ circleci config validate\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# Config file at .circleci/config.yml is valid")]),this._v("\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"本題"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本題","aria-hidden":"true"}},[this._v("#")]),this._v(" 本題")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("p",[e._v("タイトルで触れている自動ビルド + デプロイの部分に入っていきます")])]),e._v(" "),s("li",[s("p",[e._v("全体の流れはつぎのとおりです")])]),e._v(" "),s("li",[s("p",[e._v("四角で囲まれた部分をCircleCIを用いて構築していきます")])]),e._v(" "),s("li",[s("p",[e._v("CircleCIにしてほしいことは大きく分けて次の2つです")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("$ yarn src:build")]),e._v("の実行")]),e._v(" "),s("li",[e._v("実行後にできた"),s("code",[e._v("./docs")]),e._v("以下のファイルを"),s("code",[e._v("gh-pages")]),e._v("ブランチに配置")])])]),e._v(" "),s("li",[s("p",[e._v("しかし, いずれもnodeのパッケージをインストールしておく必要があります")])]),e._v(" "),s("li",[s("p",[e._v("その処理を書いてから, 先ほどの2つの処理を加えていきます")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"_0-nodeのパッケージインストール"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-nodeのパッケージインストール","aria-hidden":"true"}},[this._v("#")]),this._v(" 0. nodeのパッケージインストール")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("nodeのパッケージをインストールするためには, つぎのように書きます")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// .circleci/config.yml\nversion: 2\njobs:\n  build:\n    docker:\n      - image: node:8.12\n    working_directory: ~/task4233/note\n    steps:\n      - checkout\n      - restore_cache:\n          key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n      - run:\n          name: Install dependencies\n          command: yarn\n      - save_cache:\n          key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n          paths:\n            - ./node_modules\n      - run:\n          name: Build\n          command: yarn src:build\n  deploy:\n    docker:\n      - image: node:8.12\n    working_directory: ~/task4233/note\n    steps:\n      - checkout\n      - run:\n          name: Deploy\n          command: yarn deploy\n\nworkflows:\n  version: 2\n  build-deploy:\n    jobs:\n      - build:\n          filters:\n            branches:\n              ignore:\n                - gh-pages\n      - deploy:\n          filters:\n            branches:\n              ignore:\n                - gh-pages\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br"),s("span",{staticClass:"line-number"},[e._v("29")]),s("br"),s("span",{staticClass:"line-number"},[e._v("30")]),s("br"),s("span",{staticClass:"line-number"},[e._v("31")]),s("br"),s("span",{staticClass:"line-number"},[e._v("32")]),s("br"),s("span",{staticClass:"line-number"},[e._v("33")]),s("br"),s("span",{staticClass:"line-number"},[e._v("34")]),s("br"),s("span",{staticClass:"line-number"},[e._v("35")]),s("br"),s("span",{staticClass:"line-number"},[e._v("36")]),s("br"),s("span",{staticClass:"line-number"},[e._v("37")]),s("br"),s("span",{staticClass:"line-number"},[e._v("38")]),s("br"),s("span",{staticClass:"line-number"},[e._v("39")]),s("br"),s("span",{staticClass:"line-number"},[e._v("40")]),s("br"),s("span",{staticClass:"line-number"},[e._v("41")]),s("br"),s("span",{staticClass:"line-number"},[e._v("42")]),s("br"),s("span",{staticClass:"line-number"},[e._v("43")]),s("br"),s("span",{staticClass:"line-number"},[e._v("44")]),s("br"),s("span",{staticClass:"line-number"},[e._v("45")]),s("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"_1-yarn-src-buildの実行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-yarn-src-buildの実行","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. "),t("code",[this._v("$ yarn src:build")]),this._v("の実行")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("これは簡単です")]),this._v(" "),t("li",[this._v("つぎのように, "),t("code",[this._v(".circleci/config.yml")]),this._v("に追記します")])])}],!1,null,null,null);n.options.__file="circle_ci.md";t.default=n.exports}}]);