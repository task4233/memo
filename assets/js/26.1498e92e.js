(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{268:function(t,a,r){"use strict";r.r(a);var s=r(37),_=Object(s.a)({},function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"デスペ-h30-午後2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#デスペ-h30-午後2","aria-hidden":"true"}},[t._v("#")]),t._v(" デスペ H30 午後2")]),t._v(" "),r("h1",{attrs:{id:"_03-20"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_03-20","aria-hidden":"true"}},[t._v("#")]),t._v(" 03/20")]),t._v(" "),r("h2",{attrs:{id:"h30-午後2-1"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#h30-午後2-1","aria-hidden":"true"}},[t._v("#")]),t._v(" H30 午後2-1")]),t._v(" "),r("h2",{attrs:{id:"not-null制約の表記"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#not-null制約の表記","aria-hidden":"true"}},[t._v("#")]),t._v(" NOT NULL制約の表記")]),t._v(" "),r("ul",[r("li",[t._v("次のような表現を用いる場合, NOT NULL制約が必要\n"),r("ul",[r("li",[t._v("指定は必須")]),t._v(" "),r("li",[t._v("自動的に設定される")]),t._v(" "),r("li",[t._v("〜のいずれか\n"),r("ul",[r("li",[t._v("「〜を指定しなければならない」が省略されていると考えれば良い")])])])])]),t._v(" "),r("li",[t._v("次のような表現を用いる場合, NOT NULL制約が不必要\n"),r("ul",[r("li",[t._v("任意")]),t._v(" "),r("li",[t._v("登録後, 別のタイミングで記録する\n"),r("ul",[r("li",[t._v("登録時はNULLの可能性が高い")]),t._v(" "),r("li",[t._v("次で触れるCRUDのUが指定されているとき")])])])])])]),t._v(" "),r("h2",{attrs:{id:"crud表"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#crud表","aria-hidden":"true"}},[t._v("#")]),t._v(" CRUD表")]),t._v(" "),r("ul",[r("li",[t._v("C(Create), R(Reference), U(Update), D(Delete)のこと")])]),t._v(" "),r("h2",{attrs:{id:"格納長の計算"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#格納長の計算","aria-hidden":"true"}},[t._v("#")]),t._v(" 格納長の計算")]),t._v(" "),r("ul",[r("li",[t._v("NOT NULL制約がある場合, NULLフラグが追加されることが多い")]),t._v(" "),r("li",[t._v("大抵はRDBMSの仕様で定義されている")]),t._v(" "),r("li",[t._v("NULLフラグはNOT NULL制約のある列にのみ追加される")])]),t._v(" "),r("h2",{attrs:{id:"テーブル定義表の索引"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#テーブル定義表の索引","aria-hidden":"true"}},[t._v("#")]),t._v(" テーブル定義表の索引")]),t._v(" "),r("ul",[r("li",[t._v("次の3種類がある")]),t._v(" "),r("li",[t._v("P(Primary Key)")]),t._v(" "),r("li",[t._v("NU(Not Unique)")]),t._v(" "),r("li",[t._v("U(Unique)")])]),t._v(" "),r("h2",{attrs:{id:"ストアドプロシージャ-stored-procedure"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ストアドプロシージャ-stored-procedure","aria-hidden":"true"}},[t._v("#")]),t._v(" ストアドプロシージャ(Stored Procedure)")]),t._v(" "),r("ul",[r("li",[t._v("DB上での一連処理に名前をつけて関数のように呼び出して使用できるもの")]),t._v(" "),r("li",[t._v("DB上で動作を完結させるため, 開発言語に依存しない")])]),t._v(" "),r("h1",{attrs:{id:"_03-21"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_03-21","aria-hidden":"true"}},[t._v("#")]),t._v(" 03/21")]),t._v(" "),r("h2",{attrs:{id:"h30-午後2-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#h30-午後2-2","aria-hidden":"true"}},[t._v("#")]),t._v(" H30 午後2-2")]),t._v(" "),r("h2",{attrs:{id:"排他的サブタイプと共存的サブタイプ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#排他的サブタイプと共存的サブタイプ","aria-hidden":"true"}},[t._v("#")]),t._v(" 排他的サブタイプと共存的サブタイプ")]),t._v(" "),r("ul",[r("li",[t._v("どちらか一方にのみ所属できるのは排他的サブタイプ")]),t._v(" "),r("li",[t._v("両方に属することができるのは共存的サブタイプ")]),t._v(" "),r("li",[t._v("「AとBを兼ねることもある」というとき, 共存的サブタイプである")])]),t._v(" "),r("h2",{attrs:{id:"_1対多"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1対多","aria-hidden":"true"}},[t._v("#")]),t._v(" 1対多")]),t._v(" "),r("ul",[r("li",[t._v("つぎの例で考える")])]),t._v(" "),r("p",[r("code",[t._v("部署")]),t._v(" $\\rightarrow$ "),r("code",[t._v("社員")])]),t._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[t._v("部署 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("部署コード"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("主キー"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 部署名"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n社員 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("社員番号"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("主キー"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 社員名"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 部署コード"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("外部キー"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),r("ul",[r("li",[t._v("この関係スキーマから, つぎのことが分かる\n"),r("ul",[r("li",[t._v("各社員は, どこか1つの部署に所属する")]),t._v(" "),r("li",[t._v("各部署には, 複数の職員が所属している")])])])]),t._v(" "),r("h3",{attrs:{id:"見分け方"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#見分け方","aria-hidden":"true"}},[t._v("#")]),t._v(" 見分け方")]),t._v(" "),r("ul",[r("li",[t._v("AとBというエンティティがあった時で考える\n"),r("ul",[r("li",[t._v("A:B = 多対1\n"),r("ul",[r("li",[t._v("エンティティAに対して, エンティティBが1つ所属できる")]),t._v(" "),r("li",[t._v("言い換えると, エンティティBにはエンティティAが複数所属できる")])])]),t._v(" "),r("li",[t._v("A:B = 1対多\n"),r("ul",[r("li",[t._v("エンティティBに対して, エンティティAが1つ所属できる")]),t._v(" "),r("li",[t._v("言い換えると, エンティティAにはエンティティBが複数所属できる")])])])])]),t._v(" "),r("li",[t._v("主キーと外部キーの関係が自明である場合\n"),r("ul",[r("li",[t._v("外部キーを含むエンティティが"),r("code",[t._v("多")]),t._v("になる")]),t._v(" "),r("li",[t._v("ただし, 「1回に限り〜できる」といった制約がある場合は1:1になることもある")]),t._v(" "),r("li",[r("code",[t._v("主キー")]),t._v(" $\\rightarrow$ "),r("code",[t._v("外部キー")]),t._v("の関係が成立するとき")]),t._v(" "),r("li",[r("code",[t._v("主キー")]),t._v(":"),r("code",[t._v("外部キー")]),t._v(" = 1対多")])])])]),t._v(" "),r("h3",{attrs:{id:"実際の問題"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#実際の問題","aria-hidden":"true"}},[t._v("#")]),t._v(" 実際の問題")]),t._v(" "),r("ul",[r("li",[t._v("「発注品目ごとに, 仕入先が1つ決まっている」\n"),r("ul",[r("li",[t._v("発注品目:仕入先 = 多対1")])])]),t._v(" "),r("li",[t._v("「商談は商談#で識別し, 商談相手の契約先, 商談を担当する社員を記録する」\n"),r("ul",[r("li",[t._v("商談エンティティの契約先および社員は外部キーである")]),t._v(" "),r("li",[t._v("商談:契約先 = 1:多")]),t._v(" "),r("li",[t._v("商談:社員 = 1:多")])])])]),t._v(" "),r("h2",{attrs:{id:"_1対1"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1対1","aria-hidden":"true"}},[t._v("#")]),t._v(" 1対1")]),t._v(" "),r("ul",[r("li",[t._v("「〜ごとに, ...を1つ割り振る」\n"),r("ul",[r("li",[t._v("1対1の関係")])])])])])},[],!1,null,null,null);a.default=_.exports}}]);