(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{213:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"content"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),s._m(6),s._v(" "),n("ul",[n("li",[s._v("大抵はつぎの公式ページに書かれています")]),s._v(" "),n("li",[s._v("公式がちゃんとしているので書くことはあまりないですが, 流れだけざっとさらっていきます")]),s._v(" "),n("li",[s._v("部分的に翻訳されているようです\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Welcome to CircleCI Documentation"),n("OutboundLink")],1)])])])]),s._v(" "),s._m(7),s._v(" "),n("ul",[n("li",[s._v("つぎの公式記事の通りに進めれば問題ないはずです\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/first-steps/#section=getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("CircleCIを始める"),n("OutboundLink")],1)])])])]),s._v(" "),s._m(8),s._v(" "),n("ul",[n("li",[s._v("つぎの記事の通りに進めれば問題ないはずです\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://qiita.com/boushi-bird@github/items/6b6eb1d1ed6f6d3341e4",target:"_blank",rel:"noopener noreferrer"}},[s._v("Circle CI で Github に write access 可能な Deploy key を設定する"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/add-ssh-key/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CircleCI に SSH 鍵を登録する"),n("OutboundLink")],1)])])])]),s._v(" "),s._m(9),s._v(" "),s._m(10),s._v(" "),n("ul",[n("li",[n("p",[s._v("つぎの公式記事の通りに進めれば問題ないはずです")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://circleci.com/docs/ja/2.0/local-cli/#installation",target:"_blank",rel:"noopener noreferrer"}},[s._v("Installation"),n("OutboundLink")],1)])])]),s._v(" "),s._m(11),s._v(" "),s._m(12),s._v(" "),s._m(13),s._v(" "),s._m(14)]),s._v(" "),s._m(15),s._m(16),s._v(" "),s._m(17),s._m(18),s._v(" "),n("ul",[n("li",[s._v("CircleCIの動作を定義するymlファイルを作成します")]),s._v(" "),n("li",[s._v("記法についてはつぎの記事の通りに書けば問題ないはずです\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://circleci.com/docs/2.0/configuration-reference/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Configuring CircleCI"),n("OutboundLink")],1)])])])]),s._v(" "),s._m(19),s._v(" "),n("ul",[n("li",[s._v("雛形は, 先ほどの記事の下の方にあります\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://circleci.com/docs/2.0/configuration-reference/#full-example",target:"_blank",rel:"noopener noreferrer"}},[s._v("Full Example"),n("OutboundLink")],1)])])])]),s._v(" "),s._m(20),s._v(" "),n("ul",[n("li",[n("p",[s._v("つぎの公式記事の通りに進めれば問題ないはずです")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://circleci.com/docs/2.0/local-cli/#validate-a-circleci-config",target:"_blank",rel:"noopener noreferrer"}},[s._v("Validate A CircleCI Config"),n("OutboundLink")],1)])])]),s._v(" "),s._m(21)]),s._v(" "),s._m(22),s._m(23),s._v(" "),s._m(24),s._v(" "),s._m(25),s._v(" "),s._m(26),s._v(" "),s._m(27),s._m(28),s._v(" "),s._m(29),s._v(" "),s._m(30),s._m(31),s._v(" "),s._m(32),s._v(" "),s._m(33),s._v(" "),s._m(34),s._v(" "),s._m(35),s._m(36),s._v(" "),s._m(37),s._v(" "),s._m(38),s._v(" "),s._m(39),s._m(40),s._v(" "),s._m(41),s._v(" "),s._m(42),s._m(43),s._v(" "),s._m(44),s._v(" "),s._m(45)])},[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"circleciを用いたvuepressの自動ビルド-デプロイ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleciを用いたvuepressの自動ビルド-デプロイ","aria-hidden":"true"}},[this._v("#")]),this._v(" CircleCIを用いたVuePressの自動ビルド+デプロイ")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("タイトルのとおりです")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"はじめに"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#はじめに","aria-hidden":"true"}},[this._v("#")]),this._v(" はじめに")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[t("p",[this._v("VuePressは毎回buildする必要があるので面倒")])]),this._v(" "),t("li",[t("p",[this._v("誰かがCIを使って自動デプロイとか言ってたな")])]),this._v(" "),t("li",[t("p",[this._v("やってみるか")])]),this._v(" "),t("li",[t("p",[this._v("や　り　ま　し　た")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"circleciのセッティング"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleciのセッティング","aria-hidden":"true"}},[this._v("#")]),this._v(" CircleCIのセッティング")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("インストール等のセッティングを行います")]),this._v(" "),t("li",[this._v("本題を見たい方は, 本題まで飛んでください")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"初期設定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初期設定","aria-hidden":"true"}},[this._v("#")]),this._v(" 初期設定")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"_1-登録"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-登録","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 登録")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"_2-ssh-keyの設定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ssh-keyの設定","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.ssh-keyの設定")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"danger custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),t("ul",[t("li",[t("strong",[this._v("パスフレーズ付きのrsa鍵だとCircleCI側から認められないので注意してください")]),this._v(" "),t("ul",[t("li",[this._v("これに騙されました")])])])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"_3-circleci-cliツールのインストール"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-circleci-cliツールのインストール","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.CircleCI CLIツールのインストール")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("li",[n("p",[s._v("CircleCI CLIツールでは, つぎのようなことができます")]),s._v(" "),n("ul",[n("li",[s._v("CI config(.circleci/config.yml)のデバッグとvalidation")]),s._v(" "),n("li",[s._v("ローカルでのジョブ実行")]),s._v(" "),n("li",[s._v("CircleCIのAPI利用")]),s._v(" "),n("li",[s._v("CircleCI Orbs関連")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("li",[t("p",[this._v("インストールするコマンドだけ残しておきます")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("li",[t("p",[this._v("MacとLinuxでは次のコマンドでインストールできるようです")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("li",[t("p",[this._v("念の為アップデートまで含めたコマンドを書いておきます")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fLSs https://circle.ci/cli "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# update")]),s._v("\n$ circleci update\n$ circleci switch\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("インストールしている際に, "),t("code",[this._v("permission denied")]),this._v("が発生することがあるようです")]),this._v(" "),t("li",[this._v("その時はつぎのようにコマンドを変更して対処してください")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code")]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"circleci-config-ymlファイルの作成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleci-config-ymlファイルの作成","aria-hidden":"true"}},[this._v("#")]),this._v(" .circleci/config.ymlファイルの作成")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"danger custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),t("ul",[t("li",[t("strong",[this._v("インデントでerrorになることが多いです")])]),this._v(" "),t("li",[this._v("注意しましょう\n"),t("ul",[t("li",[this._v("これで小一時間溶かしました")])])])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"作成したファイルのvalidation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作成したファイルのvalidation","aria-hidden":"true"}},[this._v("#")]),this._v(" 作成したファイルのvalidation")])},function(){var s=this.$createElement,t=this._self._c||s;return t("li",[t("p",[this._v("次のコマンドでvalidationができます")]),this._v(" "),t("ul",[t("li",[this._v("ただし, config.ymlは"),t("code",[this._v(".circleci/config.yml")]),this._v("に配置しましょう")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("$ circleci config validate\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# Config file at .circleci/config.yml is valid")]),this._v("\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"本題"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本題","aria-hidden":"true"}},[this._v("#")]),this._v(" 本題")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[n("p",[s._v("タイトルで触れている自動ビルド + デプロイの部分に入っていきます")])]),s._v(" "),n("li",[n("p",[s._v("全体の流れはつぎのとおりです")])]),s._v(" "),n("li",[n("p",[s._v("四角で囲まれた部分をCircleCIを用いて構築していきます")])]),s._v(" "),n("li",[n("p",[s._v("CircleCIにやってもらいたいことは, つぎの2つです")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("$ yarn src:build")]),s._v("の実行")]),s._v(" "),n("li",[s._v("実行後にできた"),n("code",[s._v("./docs")]),s._v("以下のファイルを"),n("code",[s._v("gh-pages")]),s._v("ブランチに配置")])])]),s._v(" "),n("li",[n("p",[s._v("しかし, いずれもnodeのパッケージをインストールしておく必要があります")])]),s._v(" "),n("li",[n("p",[s._v("その処理を書いてから, 先ほどの2つの処理を加えていきます")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"_0-nodeのパッケージインストール"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-nodeのパッケージインストール","aria-hidden":"true"}},[this._v("#")]),this._v(" 0. nodeのパッケージインストール")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("nodeのパッケージをインストールするためには, つぎのように書きます")]),this._v(" "),t("li",[t("code",[this._v("restore_cache")]),this._v("と"),t("code",[this._v("save_cache")]),this._v("でnode_moduleのキャッシュを残しておくものです")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// .circleci/config.yml\n+ version: 2\n+ jobs:\n+   build:\n+     docker:\n+       - image: node:8.12\n+     working_directory: ~/task4233/note\n+     steps:\n+       - checkout\n+       - restore_cache:\n+           key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n+       - run:\n+           name: Install dependencies\n+           command: yarn\n+       - save_cache:\n+           key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n+           paths:\n+             - ./node_modules\n+\n+ workflows:\n+   version: 2\n+   build-deploy:\n+     jobs:\n+       - build\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"_1-yarn-src-buildの実行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-yarn-src-buildの実行","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. "),t("code",[this._v("$ yarn src:build")]),this._v("の実行")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("これは簡単です")]),this._v(" "),t("li",[this._v("つぎのように, "),t("code",[this._v(".circleci/config.yml")]),this._v("に追記します")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('// .circleci/config.yml\nversion: 2\njobs:\n  build:\n    docker:\n      - image: node:8.12\n    working_directory: ~/task4233/note\n    steps:\n      - checkout\n      - restore_cache:\n          key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n      - run:\n          name: Install dependencies\n          command: yarn\n      - save_cache:\n          key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n          paths:\n            - ./node_modules\n +     - run:\n +         name: Build\n +         command: yarn src:build\n\nworkflows:\n  version: 2\n  build-deploy:\n    jobs:\n      - build\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"_2-gh-pagesブランチに配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-gh-pagesブランチに配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. "),t("code",[this._v("gh-pages")]),this._v("ブランチに配置")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("そのようなスクリプトは存在していないので, スクリプトを作成して"),t("code",[this._v(".circleci/config.yml")]),this._v("に追記します")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"スクリプトの作成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#スクリプトの作成","aria-hidden":"true"}},[this._v("#")]),this._v(" スクリプトの作成")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[n("code",[s._v("gh-pages")]),s._v("ブランチに"),n("code",[s._v("./docs")]),s._v("以下のファイルを配置するために, nodejsの"),n("code",[s._v("gh-pages")]),s._v("パッケージを利用します")]),s._v(" "),n("li",[s._v("つぎのように新たに"),n("code",[s._v("deploy.js")]),s._v("を書きます")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// deploy.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" ghpages "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gh-pages"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" ghpages"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("publish")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./docs"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{YOUR_NAME}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{YOUR_EMAIL}"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Auto build and deploy [ci skip]"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("exit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("         console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Successfully Delployed!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[s._v("6,7行目は自身のものに変更してください")]),s._v(" "),n("li",[s._v("9行目でわざわざmessageを記載しているのは, コミットメッセージに"),n("code",[s._v("[ci skip]")]),s._v("を付与することで"),n("code",[s._v("gh-pages")]),s._v("ブランチでCircleCIを動作させないためです\n"),n("ul",[n("li",[n("code",[s._v("gh-pages")]),s._v("ブランチは公開用ブランチなので, "),n("code",[s._v("gh-pages")]),s._v("ブランチではCircleCIを動作させません")])])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"スクリプトを実行するコマンドの追記"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#スクリプトを実行するコマンドの追記","aria-hidden":"true"}},[this._v("#")]),this._v(" スクリプトを実行するコマンドの追記")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("このjsファイルを実行させるためのコマンドを"),t("code",[this._v("package.json")]),this._v("に追記します")]),this._v(" "),t("li",[this._v("他の部分は私の設定なので, 自身の"),t("code",[this._v("package.json")]),this._v("に7行目の内容のみ追記してください")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pg"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("       "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deploy"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node ./deploy.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src:dev"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev src --port 3030"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src:build"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rm -rf ./docs && vuepress build src"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"repository"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"url"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git+https://github.com/task4233/note.git"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"author"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"task4233"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"license"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ISC"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"markdown-it"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^8.4.2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"markdown-it-katex"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.0.3"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"markdown-it-task-lists"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.1.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^0.14.8"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dependencies"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gh-pages"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.0.1"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"circleci-config-ymlへの追記"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#circleci-config-ymlへの追記","aria-hidden":"true"}},[this._v("#")]),this._v(" .circleci/config.ymlへの追記")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("コマンドが完成したので, "),t("code",[this._v(".circleci/config.yml")]),this._v("に追記します")]),this._v(" "),t("li",[this._v("つぎのように追記します")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('version: 2\njobs:\n  build:\n    docker:\n      - image: node:8.12\n    working_directory: ~/task4233/note\n    steps:\n      - checkout\n      - restore_cache:\n          key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n      - run:\n          name: Install dependencies\n          command: yarn\n      - save_cache:\n          key: yarn-{{ .Branch }}-{{ checksum "yarn.lock" }}\n          paths:\n            - ./node_modules\n      - run:\n          name: Build\n          command: yarn src:build\n +    - run:\n +        name: Deploy\n +        command: yarn deploy\n\nworkflows:\n  version: 2\n  build-deploy:\n    jobs:\n      - build\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"書いた-circleci-config-ymlのvalidate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#書いた-circleci-config-ymlのvalidate","aria-hidden":"true"}},[this._v("#")]),this._v(" 書いた.circleci/config.ymlのvalidate")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("githubにpushしてから"),t("code",[this._v("config.yml")]),this._v("のせいでエラーがでると悲しくなるので, ローカルでvalidateします")]),this._v(" "),t("li",[this._v("つぎのコマンドでvalidateできます")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ circleci config validate -c "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("config.ymlまでのファイルパス"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# circleci config validate -c ./.circleci/config.yml")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Config file at ./.circleci/config.yml is valid.")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])}],!1,null,null,null);e.options.__file="circle_ci.md";t.default=e.exports}}]);