<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>デスペ H29 午後1</title>
    <meta name="description" content="デスペめも -H29 午後1編-">
    
    
    <link rel="preload" href="/assets/css/0.styles.927c50e1.css" as="style"><link rel="preload" href="/assets/js/app.f9e44412.js" as="script"><link rel="preload" href="/assets/js/4.ea1d030e.js" as="script"><link rel="preload" href="/assets/js/24.18bcd02e.js" as="script"><link rel="prefetch" href="/assets/js/10.5fb78c6b.js"><link rel="prefetch" href="/assets/js/11.00a32e57.js"><link rel="prefetch" href="/assets/js/12.9753e7a4.js"><link rel="prefetch" href="/assets/js/13.4f4cba50.js"><link rel="prefetch" href="/assets/js/14.487fd3e0.js"><link rel="prefetch" href="/assets/js/15.fff641af.js"><link rel="prefetch" href="/assets/js/16.e24f8c23.js"><link rel="prefetch" href="/assets/js/17.dce15c03.js"><link rel="prefetch" href="/assets/js/18.aff01b6a.js"><link rel="prefetch" href="/assets/js/19.070520fb.js"><link rel="prefetch" href="/assets/js/2.6699e741.js"><link rel="prefetch" href="/assets/js/20.1d5aa23a.js"><link rel="prefetch" href="/assets/js/21.7456dddc.js"><link rel="prefetch" href="/assets/js/22.43561a19.js"><link rel="prefetch" href="/assets/js/23.14482c4f.js"><link rel="prefetch" href="/assets/js/25.da0470d9.js"><link rel="prefetch" href="/assets/js/26.1498e92e.js"><link rel="prefetch" href="/assets/js/27.1b5e231b.js"><link rel="prefetch" href="/assets/js/28.7ff35c37.js"><link rel="prefetch" href="/assets/js/29.abfa3196.js"><link rel="prefetch" href="/assets/js/3.685664ec.js"><link rel="prefetch" href="/assets/js/30.a02e2dbb.js"><link rel="prefetch" href="/assets/js/31.6fb8f56c.js"><link rel="prefetch" href="/assets/js/32.eb72ad8c.js"><link rel="prefetch" href="/assets/js/33.02308810.js"><link rel="prefetch" href="/assets/js/34.6684b118.js"><link rel="prefetch" href="/assets/js/35.54494384.js"><link rel="prefetch" href="/assets/js/36.9c621ce9.js"><link rel="prefetch" href="/assets/js/37.540c8a48.js"><link rel="prefetch" href="/assets/js/38.03386e31.js"><link rel="prefetch" href="/assets/js/39.1242d758.js"><link rel="prefetch" href="/assets/js/40.480f85c3.js"><link rel="prefetch" href="/assets/js/41.4b5ba5a3.js"><link rel="prefetch" href="/assets/js/42.8cd7f453.js"><link rel="prefetch" href="/assets/js/43.71661e52.js"><link rel="prefetch" href="/assets/js/44.034fcd2c.js"><link rel="prefetch" href="/assets/js/45.ff3aabfb.js"><link rel="prefetch" href="/assets/js/46.cff52b5c.js"><link rel="prefetch" href="/assets/js/47.83ae43c4.js"><link rel="prefetch" href="/assets/js/48.69175fae.js"><link rel="prefetch" href="/assets/js/49.dab7c951.js"><link rel="prefetch" href="/assets/js/5.93dd8e5f.js"><link rel="prefetch" href="/assets/js/50.154eb901.js"><link rel="prefetch" href="/assets/js/51.b5080153.js"><link rel="prefetch" href="/assets/js/52.868f2885.js"><link rel="prefetch" href="/assets/js/53.3313359d.js"><link rel="prefetch" href="/assets/js/54.81f3bfb0.js"><link rel="prefetch" href="/assets/js/55.f8f80c24.js"><link rel="prefetch" href="/assets/js/56.915b9bdc.js"><link rel="prefetch" href="/assets/js/6.3684d401.js"><link rel="prefetch" href="/assets/js/7.462e790c.js"><link rel="prefetch" href="/assets/js/8.7999708e.js"><link rel="prefetch" href="/assets/js/9.ff1fb5db.js">
    <link rel="stylesheet" href="/assets/css/0.styles.927c50e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="content__default"><h1 id="デスペ-h29-午後1"><a href="#デスペ-h29-午後1" aria-hidden="true" class="header-anchor">#</a> デスペ H29 午後1</h1> <h1 id="_03-23"><a href="#_03-23" aria-hidden="true" class="header-anchor">#</a> 03/23</h1> <h2 id="h29-午後1-1"><a href="#h29-午後1-1" aria-hidden="true" class="header-anchor">#</a> H29 午後1-1</h2> <h2 id="候補キーの決め方"><a href="#候補キーの決め方" aria-hidden="true" class="header-anchor">#</a> 候補キーの決め方</h2> <ul><li>タプルを一意に識別できるもの
<ul><li>一意に識別できないとダメ</li></ul></li> <li>極小であること</li></ul> <h2 id="表1から関数従属性を抽出"><a href="#表1から関数従属性を抽出" aria-hidden="true" class="header-anchor">#</a> 表1から関数従属性を抽出</h2> <ul><li>電子会議番号: 電子会議を一意に識別する文字列
<ul><li>電子会議番号 $\rightarrow$ 議題</li></ul></li> <li>分野番号: 分野を一意に識別する番号
<ul><li>分野番号 $\rightarrow$ 分野</li></ul></li> <li>表示順: 電子会議を一覧表示する際の順序を表す数値。一つの分野内で表示順が重複することはない。表示順の見直しによって値が変更されることもある。
<ul><li>分野内で表示順が重複することはない</li> <li>すなわち, 分野番号と表示順で電子会議番号を一意に識別できる
<ul><li>{分野番号, 表示順} $\rightarrow$ 電子会議番号</li></ul></li> <li>電子会議番号は一意なので, その逆もまた然り
<ul><li>電子会議番号 $\rightarrow$ {分野番号, 表示順}</li></ul></li></ul></li> <li>作成者ユーザID: 電子会議を作成したユーザのユーザID
<ul><li>電子会議番号 $\rightarrow$ 作成者ユーザID</li></ul></li> <li>投稿番号: 電子会議番号との組合わせで投稿を一意に識別する番号
<ul><li>{電子会議番号, 投稿番号} $\rightarrow$ {投稿本文, 投稿者ユーザID}</li></ul></li> <li>電子会議は, いずれか1つの分野に属し, 分野毎に定められた表示順に従って一覧表示される
<ul><li>電子会議番号 $\rightarrow$ 分野番号</li></ul></li></ul> <h2 id="導き出した関数従属性から候補キーを選定"><a href="#導き出した関数従属性から候補キーを選定" aria-hidden="true" class="header-anchor">#</a> 導き出した関数従属性から候補キーを選定</h2> <h3 id="手順1-全ての-rightarrow-の始点をピックアップする"><a href="#手順1-全ての-rightarrow-の始点をピックアップする" aria-hidden="true" class="header-anchor">#</a> 手順1. 全ての$\rightarrow$の始点をピックアップする</h3> <ul><li>電子会議番号</li> <li>分野番号</li> <li>{分野番号, 表示順}</li> <li>{電子会議番号, 投稿番号}</li></ul> <h3 id="手順2-それぞれの属性が全てを決定できるかを確認する"><a href="#手順2-それぞれの属性が全てを決定できるかを確認する" aria-hidden="true" class="header-anchor">#</a> 手順2. それぞれの属性が全てを決定できるかを確認する</h3> <ul><li>全ての属性はつぎの通り
<ul><li>電子会議番号</li> <li>議題</li> <li>分野番号</li> <li>分野名</li> <li>表示順</li> <li>作成者ユーザID</li> <li>投稿番号</li> <li>投稿本文</li> <li>投稿者ユーザID</li></ul></li> <li>電子会議番号
<ul><li>電子会議番号(self)</li> <li>議題(電子会議番号 $\rightarrow$ 議題)</li> <li>分野番号(電子会議番号 $\rightarrow$ {分野番号, 表示順})</li> <li>分野名(電子会議番号 $\rightarrow$ {分野番号, 表示順} $\rightarrow$ 分野名)</li> <li>表示順(電子会議番号 $\rightarrow$ {分野番号, 表示順})</li> <li>作成者ユーザID(電子会議番号 $\rightarrow$ 作成者ユーザID)</li> <li>投稿番号(NG)</li> <li><strong>電子会議番号はNG</strong></li></ul></li> <li>分野番号
<ul><li>電子会議番号(NG)</li> <li><strong>分野番号はNG</strong></li></ul></li> <li>{分野番号, 表示順}
<ul><li>電子会議番号({分野番号, 表示順} $\rightarrow$ 電子会議番号)</li> <li>議題({分野番号, 表示順} $\rightarrow$ 電子会議番号 $\rightarrow$ 議題)</li> <li>分野番号(self)</li> <li>分野名(分野番号 $\rightarrow$ 分野名)</li> <li>表示順(self)</li> <li>作成者ユーザID({分野番号, 表示順} $\rightarrow$ 電子会議番号 $\rightarrow$ 作成者ユーザID)</li> <li>投稿番号(NG)</li> <li><strong>{分野番号, 表示順}はNG</strong></li></ul></li> <li>{電子会議番号, 投稿番号}
<ul><li>電子会議番号(self)</li> <li>議題(電子会議番号 $\rightarrow$ 議題)</li> <li>分野番号(電子会議番号 $\rightarrow$ {分野番号, 表示順})</li> <li>分野名(電子会議番号 $\rightarrow$ {分野番号, 表示順} $\rightarrow$ 分野名)</li> <li>表示順(電子会議番号 $\rightarrow$ {分野番号, 表示順})</li> <li>作成者ユーザID(電子会議番号 $\rightarrow$ 作成者ユーザID)</li> <li>投稿番号(self)</li> <li>投稿本文, 投稿者ユーザID({電子会議番号, 投稿番号} $\rightarrow$ {投稿本文, 投稿者ユーザID})</li> <li><strong>{電子会議番号, 投稿番号}でok</strong></li></ul></li></ul> <h3 id="手順3-入れ替えが必要かチェックする"><a href="#手順3-入れ替えが必要かチェックする" aria-hidden="true" class="header-anchor">#</a> 手順3. 入れ替えが必要かチェックする</h3> <ul><li>{電子会議番号, 投稿番号}を被決定項とする関数従属性はない</li> <li>電子会議番号を被決定項とする関数従属性はある
<ul><li>{分野番号, 表示順} $\rightarrow$ 電子会議番号</li> <li>従って, {分野番号, 表示順, 投稿番号}も候補キー</li></ul></li> <li>投稿番号を被決定項とする関数従属性はない</li></ul> <p>したがって, 候補キーは</p> <ul><li><strong>{電子会議番号, 投稿番号}</strong></li> <li><strong>{分野番号, 表示順, 投稿番号}</strong><br>
になる</li></ul> <h2 id="第3正規形に分解"><a href="#第3正規形に分解" aria-hidden="true" class="header-anchor">#</a> 第3正規形に分解</h2> <ul><li>電子会議投稿(電子会議番号, 議題, 分野番号, 分野名, 表示順, 作成者ユーザID, 投稿番号, 投稿本文, 投稿者ユーザID)</li></ul> <h3 id="手順1-候補キーから主キーを選定する"><a href="#手順1-候補キーから主キーを選定する" aria-hidden="true" class="header-anchor">#</a> 手順1. 候補キーから主キーを選定する</h3> <ul><li><p>候補キーは次の2つ</p> <ul><li>{電子会議番号, 投稿番号}</li> <li>{分野番号, 表示順, 投稿番号}</li></ul></li> <li><p>主キーはNULLを許容しない</p> <ul><li>一度でもNULLが格納されそうな属性がないか確認する</li> <li>ない</li></ul></li> <li><p>生成後に変更がないことを保証する</p> <ul><li>設定してから変更される場合, 主キーとしては相応しくない</li> <li>表示順は見直しによって変化することがあるらしい</li> <li><strong>表示順</strong> はNG
したがって, 主キーは <strong>{電子会議番号, 投稿番号}</strong></li></ul></li> <li><p>電子会議投稿(<u>電子会議番号</u>, 議題, 分野番号, 分野名, 表示順, 作成者ユーザID, <u>投稿番号</u>, 投稿本文, 投稿者ユーザID)</p></li></ul> <h3 id="手順2-部分関数従属の排除"><a href="#手順2-部分関数従属の排除" aria-hidden="true" class="header-anchor">#</a> 手順2. 部分関数従属の排除</h3> <ul><li>先ほど挙げた関数従属性を用いる</li> <li>電子会議という関係を作成する
<ul><li>「電子会議を〜」という表現が多々でてくるため</li> <li>電子会議 (<u>電子会議番号</u>, 議題, 分野番号, 表示順, 作成者ユーザID)</li></ul></li> <li>同様に, 投稿という関係を作成する
<ul><li>「投稿を〜」という表現がでてくるため</li> <li>投稿 (<u>電子会議番号</u>, <u>投稿番号</u>, 投稿本文, 投稿者ユーザID)</li></ul></li> <li>さらに, 分野という関係を作成する
<ul><li>「分野を〜」「分野の〜」という表現が出てくるため</li> <li>分野 (<u>分野番号</u>, 分野名)</li></ul></li> <li>ここで, 外部キーが存在しているので破線を追加しておく
<ul><li>電子会議 (<u>電子会議番号</u>, 議題, <span stype="bordeer-bottom: dashed 1px blask">分野番号</span>, 表示順, <span style="border-bottom:dashed 1px black;">作成者ユーザID</span>)</li> <li>投稿 (<u>電子会議番号</u>, <u>投稿番号</u>, 投稿本文, <span style="border-bottom:dashed 1px black;">投稿者ユーザID</span>)</li> <li>分野 (<u>分野番号</u>, 分野名)</li></ul></li></ul> <h2 id="外部キーの命名と推定"><a href="#外部キーの命名と推定" aria-hidden="true" class="header-anchor">#</a> 外部キーの命名と推定</h2> <ul><li>「意味を識別できる名称」にできれば良い</li> <li>公式解答はこれに沿っているので, 参考になるはず</li> <li>破線で外部キーと明示されていなくとも, 他の関係の主キーである場合は外部キーとして捉えても良い
<ul><li>そうすることで関数従属性が見えてくることもある</li> <li>主キーかつ外部キーの時は, 主キーのみの記述となる</li></ul></li> <li>「〜を定めてもよい」は「〜を定めなくてもよい」の言い換え
<ul><li>この場合は, 関数従属元がNULLになることもある</li></ul></li> <li>「必要に応じて」も同様</li></ul> <h1 id="午後1-2"><a href="#午後1-2" aria-hidden="true" class="header-anchor">#</a> 午後1-2</h1> <h2 id="inner-joinとouter-join"><a href="#inner-joinとouter-join" aria-hidden="true" class="header-anchor">#</a> INNER JOINとOUTER JOIN</h2> <ul><li>INNER JOINはAND</li> <li>OUTER JOINはOR
<ul><li>LEFT OUTER JOINはA全体にBをJOIN</li> <li>RIGHT OUTER JOINはB全体をAにJOIN</li> <li>BがNULLでも良い場合は, LEFT OUTER JOIN</li> <li>AがNULLでも良い場合は, RIGHT OUTER JOIN</li></ul></li></ul> <h2 id="シーケンシャルリード"><a href="#シーケンシャルリード" aria-hidden="true" class="header-anchor">#</a> シーケンシャルリード</h2> <ul><li>逐次読み込みのことだった</li> <li>対して使われるのが, ランダムリード(ランダムアクセス)</li></ul> <h2 id="sql-カーソル処理"><a href="#sql-カーソル処理" aria-hidden="true" class="header-anchor">#</a> SQL-カーソル処理</h2> <ul><li>更新処理は<code>UPDATE ~ WHERE CURRENT OF カーソル名</code></li></ul></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f9e44412.js" defer></script><script src="/assets/js/4.ea1d030e.js" defer></script><script src="/assets/js/24.18bcd02e.js" defer></script>
  </body>
</html>
